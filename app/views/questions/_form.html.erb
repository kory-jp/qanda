<%= form_with model: @question, local: true do |f| %>
  <div class="form-group">
    <label>Name</label>
    <%= f.text_field :name, class: "form-control" %>
  </div>

  <div class="form-group">
    <label>Title</label>
    <%= f.text_field :title, class: "form-control" %>
  </div>

  <div class="form-group">
    <label>Content</label>
    <%= f.text_area :content, class: "form-control" %>
  </div>



  <div class="form-group">
    <%= f.label :image %>
    <p></P>
    <%= f.file_field :image, id: :question_image %>

    <script type="text/javascript">
    $(function() {
     function readURL(input) {
       if (input.files && input.files[0]) {
         var reader = new FileReader();
         reader.onload = function (e) {
           $('#image_prev').attr('src', e.target.result);
         }
         reader.readAsDataURL(input.files[0]);
       }
     }
     $("#question_image").change(function(){
       readURL(this);
     });
    });
    </script>



    <% if @question.image.present? %>
  <%= image_tag @question.image.url , id: :image_prev %>
<% else %>
  <%= image_tag "sample.jpg", id: :image_prev %>
<% end %>


  </div>
    

  <div class="text-center">
    <%= f.submit "Save", class: "btn btn-primary" %>
  </div>

<% end %>